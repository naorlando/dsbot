# ğŸ—ï¸ Estructura Visual del Repositorio

## ğŸ“Š Estado Actual vs Propuesto

### ğŸ”´ ANTES (Desordenado)

```
dsbot/ (4.3MB)
â”‚
â”œâ”€â”€ ğŸ“„ bot.py                                    âœ… OK
â”œâ”€â”€ ğŸ“„ stats_viz.py                              âš ï¸  DeberÃ­a estar en stats/
â”œâ”€â”€ ğŸ“„ requirements.txt                          âœ… OK
â”‚
â”œâ”€â”€ ğŸ“ cogs/                                     âœ… OK
â”‚   â”œâ”€â”€ __pycache__/ (48KB)                      âŒ ELIMINAR
â”‚   â”œâ”€â”€ events.py
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ stats.py
â”‚   â””â”€â”€ utility.py
â”‚
â”œâ”€â”€ ğŸ“ core/                                     âœ… OK
â”‚   â”œâ”€â”€ __pycache__/ (188KB)                     âŒ ELIMINAR
â”‚   â”œâ”€â”€ persistence.py
â”‚   â”œâ”€â”€ cooldown.py
â”‚   â”œâ”€â”€ helpers.py
â”‚   â”œâ”€â”€ checks.py
â”‚   â”œâ”€â”€ voice_session.py
â”‚   â”œâ”€â”€ game_session.py
â”‚   â”œâ”€â”€ party_session.py
â”‚   â””â”€â”€ session_dto.py
â”‚
â”œâ”€â”€ ğŸ“ stats/                                    âœ… OK
â”‚   â”œâ”€â”€ __pycache__/ (4KB)                       âŒ ELIMINAR
â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”œâ”€â”€ __pycache__/ (72KB)                  âŒ ELIMINAR
â”‚   â”‚   â”œâ”€â”€ games.py
â”‚   â”‚   â”œâ”€â”€ parties.py
â”‚   â”‚   â”œâ”€â”€ rankings.py
â”‚   â”‚   â”œâ”€â”€ social.py
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â””â”€â”€ utils.py
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ __pycache__/ (28KB)                  âŒ ELIMINAR
â”‚   â”‚   â”œâ”€â”€ aggregators.py
â”‚   â”‚   â””â”€â”€ filters.py
â”‚   â”œâ”€â”€ visualization/
â”‚   â”‚   â”œâ”€â”€ __pycache__/ (36KB)                  âŒ ELIMINAR
â”‚   â”‚   â”œâ”€â”€ charts.py
â”‚   â”‚   â””â”€â”€ formatters.py
â”‚   â”œâ”€â”€ commands_advanced.py
â”‚   â”œâ”€â”€ commands_basic.py
â”‚   â”œâ”€â”€ commands_voice.py
â”‚   â”œâ”€â”€ embeds.py
â”‚   â””â”€â”€ ui_components.py
â”‚
â”œâ”€â”€ ğŸ“ old/                                      âŒ ELIMINAR
â”‚   â””â”€â”€ bot.py.backup                            âŒ Usar Git
â”‚
â”œâ”€â”€ ğŸ“„ ANALISIS_AGREGACIONES.md                  âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ ANALISIS_COOLDOWNS.md                     âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ ANALISIS_GUARDADO_SESIONES.md             âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ ANALISIS_HEALTH_CHECK_COSTOS.md           âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ ANALISIS_NOTIFICACIONES_PERDIDAS.md       âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ ARQUITECTURA.md                           âœ… MANTENER
â”œâ”€â”€ ğŸ“„ BUENAS_PRACTICAS.md                       âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ BUFFER_GRACIA_UNIFICADO.md                âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ CAMBIO_BUFFER_15MIN.md                    âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ COMANDOS_NUEVOS.md                        âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ ENV_TEMPLATE.md                           âš ï¸  Convertir a .env.example
â”œâ”€â”€ ğŸ“„ LICENSE                                   âœ… MANTENER
â”œâ”€â”€ ğŸ“„ MEJORAS_GRAFICOS.md                       âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ PROPUESTA_ANALYTICS_V2.md                 âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ PROPUESTA_HEALTH_CHECK.md                 âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ README.md                                 âœ… MANTENER
â”œâ”€â”€ ğŸ“„ REFACTOR_STATS.md                         âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ REFACTOR_SUMMARY.md                       âŒ ARCHIVAR
â”œâ”€â”€ ğŸ“„ SIMPLIFICACION_AGRESIVA_FINAL.md          âŒ ARCHIVAR
â”‚
â”œâ”€â”€ ğŸ“„ config_git.sh                             âŒ ELIMINAR
â”œâ”€â”€ ğŸ“„ setup_github.sh                           âŒ ELIMINAR
â”œâ”€â”€ ğŸ“„ push_to_github.sh                         âŒ ELIMINAR
â”œâ”€â”€ ğŸ“„ deploy_completo.sh                        âŒ ELIMINAR
â”œâ”€â”€ ğŸ“„ create_env.sh                             âš ï¸  Mover a scripts/
â”œâ”€â”€ ğŸ“„ verify_setup.sh                           âš ï¸  Mover a scripts/
â”œâ”€â”€ ğŸ“„ start.sh                                  âœ… OK
â”œâ”€â”€ ğŸ“„ start.bat                                 âœ… OK
â”‚
â”œâ”€â”€ ğŸ“„ Dockerfile                                âŒ ELIMINAR
â”œâ”€â”€ ğŸ“„ docker-compose.yml                        âŒ ELIMINAR
â”œâ”€â”€ ğŸ“„ Procfile                                  âŒ ELIMINAR
â”œâ”€â”€ ğŸ“„ railway.json                              âŒ ELIMINAR
â”œâ”€â”€ ğŸ“„ railway.toml                              âœ… OK
â”‚
â”œâ”€â”€ ğŸ“„ config.json                               âœ… OK
â””â”€â”€ ğŸ“„ stats.json                                âœ… OK
```

---

### ğŸŸ¢ DESPUÃ‰S (Limpio y Organizado)

```
dsbot/ (3.2MB - 25% mÃ¡s pequeÃ±o)
â”‚
â”œâ”€â”€ ğŸ“„ bot.py                                    âœ… Entry point
â”œâ”€â”€ ğŸ“„ requirements.txt                          âœ… Dependencias
â”œâ”€â”€ ğŸ“„ railway.toml                              âœ… Deployment
â”œâ”€â”€ ğŸ“„ .env.example                              âœ… Template
â”œâ”€â”€ ğŸ“„ .gitignore                                âœ… Actualizado
â”œâ”€â”€ ğŸ“„ .dockerignore                             âœ… Nuevo
â”‚
â”œâ”€â”€ ğŸ“„ README.md                                 âœ… DocumentaciÃ³n principal
â”œâ”€â”€ ğŸ“„ ARQUITECTURA.md                           âœ… Referencia tÃ©cnica
â”œâ”€â”€ ğŸ“„ LICENSE                                   âœ… Legal
â”‚
â”œâ”€â”€ ğŸ“„ start.sh                                  âœ… Desarrollo local
â”œâ”€â”€ ğŸ“„ start.bat                                 âœ… Windows
â”‚
â”œâ”€â”€ ğŸ“ cogs/                                     âœ… Features modulares
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ events.py                                âœ… Event listeners
â”‚   â”œâ”€â”€ config.py                                âœ… ConfiguraciÃ³n
â”‚   â”œâ”€â”€ stats.py                                 âœ… EstadÃ­sticas
â”‚   â””â”€â”€ utility.py                               âœ… Utilidades
â”‚
â”œâ”€â”€ ğŸ“ core/                                     âœ… LÃ³gica de negocio
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ persistence.py                           âœ… I/O JSON
â”‚   â”œâ”€â”€ cooldown.py                              âœ… Anti-spam
â”‚   â”œâ”€â”€ helpers.py                               âœ… Utilidades
â”‚   â”œâ”€â”€ checks.py                                âœ… Validaciones
â”‚   â”œâ”€â”€ voice_session.py                         âœ… Sesiones voz
â”‚   â”œâ”€â”€ game_session.py                          âœ… Sesiones juego
â”‚   â”œâ”€â”€ party_session.py                         âœ… Sesiones party
â”‚   â””â”€â”€ session_dto.py                           âœ… DTOs
â”‚
â”œâ”€â”€ ğŸ“ stats/                                    âœ… Sistema estadÃ­sticas
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ commands/                                âœ… Comandos por dominio
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ games.py
â”‚   â”‚   â”œâ”€â”€ parties.py
â”‚   â”‚   â”œâ”€â”€ rankings.py
â”‚   â”‚   â”œâ”€â”€ social.py
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â””â”€â”€ utils.py
â”‚   â”œâ”€â”€ data/                                    âœ… Procesamiento datos
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ aggregators.py
â”‚   â”‚   â””â”€â”€ filters.py
â”‚   â”œâ”€â”€ visualization/                           âœ… GrÃ¡ficos
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ charts.py
â”‚   â”‚   â”œâ”€â”€ formatters.py
â”‚   â”‚   â””â”€â”€ viz.py                               âœ… stats_viz.py movido
â”‚   â”œâ”€â”€ commands_advanced.py
â”‚   â”œâ”€â”€ commands_basic.py
â”‚   â”œâ”€â”€ commands_voice.py
â”‚   â”œâ”€â”€ embeds.py
â”‚   â””â”€â”€ ui_components.py
â”‚
â”œâ”€â”€ ğŸ“ scripts/                                  âœ… Scripts organizados
â”‚   â”œâ”€â”€ setup/
â”‚   â”‚   â””â”€â”€ create_env.sh                        âœ… Setup inicial
â”‚   â””â”€â”€ debug/
â”‚       â””â”€â”€ verify_setup.sh                      âœ… Debugging
â”‚
â”œâ”€â”€ ğŸ“ docs/                                     âœ… DocumentaciÃ³n archivada
â”‚   â””â”€â”€ archive/
â”‚       â”œâ”€â”€ ANALISIS_*.md                        âœ… AnÃ¡lisis tÃ©cnicos
â”‚       â”œâ”€â”€ PROPUESTA_*.md                       âœ… Propuestas viejas
â”‚       â”œâ”€â”€ REFACTOR_*.md                        âœ… Historial refactor
â”‚       â””â”€â”€ ...                                  âœ… Otros docs obsoletos
â”‚
â”œâ”€â”€ ğŸ“„ config.json                               âœ… ConfiguraciÃ³n bot
â””â”€â”€ ğŸ“„ stats.json                                âœ… Datos usuarios
```

---

## ğŸ“Š ComparaciÃ³n de MÃ©tricas

### TamaÃ±o del Repositorio

```
ANTES:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 4.3MB (100%)
        â”œâ”€ CÃ³digo:         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 3.1MB (72%)
        â”œâ”€ __pycache__:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 732KB (17%)
        â”œâ”€ DocumentaciÃ³n:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 500KB (12%)
        â””â”€ Scripts:        â–ˆâ–ˆ 100KB (2%)

DESPUÃ‰S: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 3.2MB (74%)
         â”œâ”€ CÃ³digo:         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 3.0MB (94%)
         â”œâ”€ __pycache__:    0KB (0%)
         â”œâ”€ DocumentaciÃ³n:  â–ˆâ–ˆ 100KB (3%)
         â””â”€ Scripts:        â–ˆ 50KB (2%)

AHORRO: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 1.1MB (25%)
```

### Archivos en RaÃ­z

```
ANTES:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 35 archivos
        â”œâ”€ Python:         â–ˆ 2 archivos
        â”œâ”€ Markdown:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 19 archivos
        â”œâ”€ Scripts:        â–ˆâ–ˆâ–ˆâ–ˆ 8 archivos
        â”œâ”€ Deployment:     â–ˆâ–ˆ 5 archivos
        â””â”€ Config:         â–ˆ 2 archivos

DESPUÃ‰S: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 10 archivos
         â”œâ”€ Python:         â–ˆ 1 archivo
         â”œâ”€ Markdown:       â–ˆâ–ˆ 3 archivos
         â”œâ”€ Scripts:        â–ˆ 2 archivos
         â”œâ”€ Deployment:     â–ˆ 1 archivo
         â””â”€ Config:         â–ˆâ–ˆ 3 archivos

REDUCCIÃ“N: 71% menos archivos en raÃ­z
```

---

## ğŸ¯ Flujo de Datos

### Arquitectura de 3 Capas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CAPA DE PRESENTACIÃ“N                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Commands   â”‚  â”‚    Embeds    â”‚  â”‚   UI Views   â”‚  â”‚
â”‚  â”‚  (Discord)   â”‚  â”‚  (Visual)    â”‚  â”‚ (Interactive)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CAPA DE LÃ“GICA                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Tracking    â”‚  â”‚  Cooldown    â”‚  â”‚  Helpers     â”‚  â”‚
â”‚  â”‚  (Events)    â”‚  â”‚  (Anti-spam) â”‚  â”‚  (Utils)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CAPA DE DATOS                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ Persistence  â”‚  â”‚  stats.json  â”‚                     â”‚
â”‚  â”‚  (I/O)       â”‚  â”‚  config.json â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Flujo de Eventos

### Usuario Entra a Voz

```
Discord Event
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EventsCog          â”‚
â”‚  on_voice_update()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VoiceSessionManager â”‚
â”‚ handle_start()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€> Crear VoiceSession
           â”‚
           â”œâ”€â”€> asyncio.create_task()
           â”‚    (background, no bloquea)
           â”‚
           â–¼
    [3s delay]
           â”‚
           â”œâ”€â”€> Â¿Sigue en canal?
           â”‚    SÃ â”€â”€> start_voice_session()
           â”‚           â”‚
           â”‚           â”œâ”€â”€> check_cooldown()
           â”‚           â”‚    (anti-spam)
           â”‚           â”‚
           â”‚           â””â”€â”€> send_notification()
           â”‚
           â–¼
    [7s delay]
           â”‚
           â””â”€â”€> Â¿Sigue en canal?
                SÃ â”€â”€> Confirmar (> 10s)
                NO â”€â”€> Borrar notificaciÃ³n
```

### Usuario Juega un Juego

```
Discord Event
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EventsCog          â”‚
â”‚  on_presence_update â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Filtro Multicapa    â”‚
â”‚ (6 verificaciones)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€> 1. Tipo != 'custom'
           â”œâ”€â”€> 2. Clase en whitelist
           â”œâ”€â”€> 3. Tiene app_id
           â”œâ”€â”€> 4. No en blacklist
           â”œâ”€â”€> 5. Nombre no sospechoso
           â””â”€â”€> 6. Logging detallado
           â”‚
           â–¼
    Â¿Pasa filtros?
           â”‚
           SÃ â”€â”€> GameSessionManager
                  â”‚
                  â”œâ”€â”€> start_game_session()
                  â”œâ”€â”€> record_game_event()
                  â”œâ”€â”€> check_cooldown()
                  â””â”€â”€> send_notification()
```

---

## ğŸ’¾ Estructura de Datos

### stats.json (Simplificado)

```json
{
  "users": {
    "user_id": {
      "username": "Nombre",
      
      "games": {
        "game_name": {
          "count": 10,
          "total_minutes": 120,
          "daily_minutes": {
            "2025-12-28": 30
          }
        }
      },
      
      "voice": {
        "count": 5,
        "total_minutes": 60,
        "daily_minutes": {
          "2025-12-28": 20
        }
      },
      
      "messages": {
        "count": 100,
        "characters": 5000
      },
      
      "reactions": {
        "total": 50,
        "by_emoji": {
          "ğŸ‘": 20,
          "â¤ï¸": 30
        }
      },
      
      "daily_connections": {
        "total": 25,
        "by_date": {
          "2025-12-28": 3
        },
        "personal_record": {
          "count": 5,
          "date": "2025-12-27"
        }
      }
    }
  },
  
  "cooldowns": {
    "user_id:game:Fortnite": "2025-12-28T15:30:00",
    "user_id:voice": "2025-12-28T15:25:00"
  }
}
```

---

## ğŸš€ Performance

### Consumo de Recursos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         MEMORIA (Railway)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Bot base:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 50MB      â”‚
â”‚ Discord.py:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 30MB        â”‚
â”‚ Datos (JSON):    â–ˆ 0.01MB           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL:           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 80MBâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         CPU USAGE                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Idle:            â–ˆ 0.1%             â”‚
â”‚ Con usuarios:    â–ˆâ–ˆâ–ˆ 0.5%           â”‚
â”‚ Health check:    â–ˆ 0.05%            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DISCO (Railway Volume)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CÃ³digo:          â–ˆâ–ˆâ–ˆâ–ˆ 3.2MB         â”‚
â”‚ Datos/aÃ±o:       â–ˆâ–ˆâ–ˆâ–ˆ 3.6MB         â”‚
â”‚ Disponible:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 493MB â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL USADO:     â–ˆ 6.8MB (1.4%)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Patrones de DiseÃ±o Implementados

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SINGLETON PATTERN                â”‚
â”‚  config, stats (variables globales)      â”‚
â”‚  âœ… Cargadas una vez                     â”‚
â”‚  âœ… Accesibles desde cualquier mÃ³dulo    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         FACTORY PATTERN                  â”‚
â”‚  setup_*_commands()                      â”‚
â”‚  âœ… Carga dinÃ¡mica                       â”‚
â”‚  âœ… Evita registro duplicado             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         STRATEGY PATTERN                 â”‚
â”‚  StatsSelect (diferentes visualizaciones)â”‚
â”‚  âœ… Cada opciÃ³n ejecuta estrategia       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DECORATOR PATTERN                â”‚
â”‚  @stats_channel_only()                   â”‚
â”‚  âœ… Envuelve comandos con validaciÃ³n     â”‚
â”‚  âœ… Reutilizable                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         OBSERVER PATTERN                 â”‚
â”‚  EventsCog (event listeners)             â”‚
â”‚  âœ… Reacciona a eventos Discord          â”‚
â”‚  âœ… Desacoplado                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         FACADE PATTERN                   â”‚
â”‚  StatsCog (loader de comandos)           â”‚
â”‚  âœ… Interfaz Ãºnica                       â”‚
â”‚  âœ… Simplifica carga                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ ProyecciÃ³n de Crecimiento

### Datos por Usuario (1 aÃ±o)

```
1 usuario:
â”œâ”€ Juegos:       ~50KB
â”œâ”€ Voz:          ~30KB
â”œâ”€ Mensajes:     ~20KB
â”œâ”€ Reacciones:   ~10KB
â””â”€ Conexiones:   ~10KB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total:           ~120KB/aÃ±o

8 usuarios:      ~960KB/aÃ±o (actual)
20 usuarios:     ~2.4MB/aÃ±o
50 usuarios:     ~6MB/aÃ±o
100 usuarios:    ~12MB/aÃ±o
```

### LÃ­mites del Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LÃMITES RAILWAY FREE            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Disco:           500MB                  â”‚
â”‚ RAM:             512MB                  â”‚
â”‚ CPU:             Shared                 â”‚
â”‚ Network:         100GB/mes              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         CAPACIDAD ACTUAL                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Usuarios:        ~100 usuarios          â”‚
â”‚ Datos/aÃ±o:       ~12MB                  â”‚
â”‚ Margen:          488MB (97.6%)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Sobrado de espacio para 1 aÃ±o completo
```

---

## ğŸ¯ ConclusiÃ³n Visual

### Estado del Repositorio

```
ARQUITECTURA:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
PERFORMANCE:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
PRESUPUESTO:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
ORGANIZACIÃ“N:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 60% âš ï¸

DESPUÃ‰S DE LIMPIEZA:
ORGANIZACIÃ“N:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
```

### AcciÃ³n Recomendada

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   EJECUTAR: ./cleanup_repo.sh           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Tiempo:    30 minutos                 â”‚
â”‚   Ahorro:    1.1MB (25%)                â”‚
â”‚   Riesgo:    BAJO                       â”‚
â”‚   Impacto:   ALTO                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Tu repositorio tiene excelente cÃ³digo, solo necesita organizaciÃ³n.**

**SoluciÃ³n: 30 minutos de limpieza automÃ¡tica.**

---

**Ãšltima actualizaciÃ³n:** 30 de Diciembre, 2025

